\include{common-header}

\include{frontcover}
\include{regulatory}

%
% paper title
% Titles are generally capitalized except for words such as a, an, and, as,
% at, but, by, for, in, nor, of, on, or, the, to and up, which are usually
% not capitalized unless they are the first or last word of the title.
% Linebreaks \\ can be used within to get better formatting as desired.
% Do not put math or special symbols in the title.

\cleardoublepage

\pagenumbering{roman}

  \begin{titlepage}
    \pagecolor{blue}
     \begin{center}
       {
         \large
         % Put a nice amount of vertical space before the title
         \vspace*{2cm}
               {\Huge\textcolor{white}{\bf{MEGA65 REFERENCE GUIDE}}}\\
             \vspace{\fill}
                    {\textcolor{white}{Published by \\ the MEGA Museum of Electronic Games and Art, Germany.\\and\\Flinders University, Australia.}}
       }
     \end{center}
   \end{titlepage}

% Then the copyright notice page
  \pagecolor{white}\textcolor{black}
  \vfill
  WORK IN PROGRESS

  \index{copyright}Copyright \copyright 2018 by Paul Gardner-Stephen, Flinders University, the Museum of Electronic Games and Art eV., and contributors.

  This reference guide is made available under the GNU Free Documentation License v1.3, or later, if desired. This means that you are free to modify, reproduce
  and redistribute this user guide, subject to certain conditions. The full text of the GNU Free Documentation License v1.3 can be
  found at \url{https://www.gnu.org/licenses/fdl-1.3.en.html}.

  Implicit in this copyright license, is the permission to duplicate and/or redistribute this document in whole or in part for use in
  education environments.  We want to support the education of future generations, so if you have any worries or concerns, please
  contact us.

   \par\today

\newpagestyle{onlynumber}{\setfoot[][{\bf\small\thepage}][]
                                  {} {\bf\small\thepage} {}}
\pagestyle{onlynumber}
\pagecolor{white}

\tableofcontents

%% XXX - big numbers are not in bold, because latex gets confused
\newcommand*{\justifyheading}{\raggedleft}
\definecolor{headingblue}{rgb}{0.5,0.5,1}

% \titleformat{command}[shape]
%   {format}
%   {label}
%   {sep}
%   {before}
%   [after]

% ***************
% PART title page
% ***************

\titleclass{\part}{top}
\titleformat{\part}[display]
   {\thispagestyle{empty}\pagecolor{blue}\normalfont\huge\bfseries\justifyheading}
   {\textcolor{white}{\fontsize{50}{65}\selectfont\bf{PART}\quad{\fontsize{100}{130}\selectfont \bf{\serifed\thepart}}}}
   {20pt}
   {\Huge\textcolor{white}}
   [\newpage\pagecolor{white}\textcolor{black}]

% ******************
% CHAPTER title page
% ******************

\titleformat{\chapter}[display]
   {\thispagestyle{empty}\pagecolor{blue}\normalfont\huge\bfseries\justifyheading}
   {\textcolor{white}{\MakeUppercase{\chaptertitlename}\quad{\fontsize{100}{130}\selectfont \bf\thechapter}}}
   {20pt}
   {\Huge\textcolor{white}}
   [{\chapmtoc\insertminitoc}\newpage\pagecolor{white}\textcolor{black}\cleardoublepage]

% ******************
% SECTION title page
% ******************

\titleformat{\section}[display]
   {\raggedright}
   {\thesection}
   {20pt}
   {\huge\bf\color{headingblue}\uppercase}
   [\color{black}]

\titlecontents{\chapter}

\include{introduction}

\cleardoublepage
\pagenumbering{arabic}

\part{GETTING TO KNOW YOUR MEGA65}

\include{settingup}
\include{gettingstarted}
\include{screen-editor}

\part{FIRST STEPS IN CODING}

\include{howcomputerswork}
\include{beginninginbasic}
\include{morebasic}
\include{datainbasic}

\part{SOUND AND GRAPHICS}

\include{graphics}
\include{sprites}
\include{sound}

\part{HARDWARE}

\include{nexys4ddr-setup}

\part{APPENDICES}

\begin{appendices}

	\include{appendix-accessories}
	\include{appendix-basic2}
	\include{appendix-basic10}
	\include{appendix-basicabbreviations}
	\include{appendix-screencodes}
	\include{appendix-asciicodes}
	\include{appendix-screenmaps}
	\include{appendix-error-messages}
	\include{appendix-nexys4ddr-setup}
	\include{appendix-decbinhex-tutorial}
  \include{appendix-mathfunctions}
  \include{appendix-pinouts}
  \include{appendix-45gs02-registers}
  \include{appendix-viciv-registers}
  \include{appendix-cia6526-registers}
  \include{appendix-uart4551-registers}
  \include{appendix-sound-registers}
  \include{appendix-reference-tables}
  \include{appendix-mega65r2-flashing}

\end{appendices}


\nocite{*}
\bibliographystyle{IEEEtran}
\bibliography{references}

\printindex

\include{element-catalogue}

\include{common-footer}
